@model IEnumerable<Sonatto.Models.Produto>

@{
    string editAction = "Editar";
}

@if (Model != null && Model.Any())
{
    foreach (var produto in Model)
    {
        var imageUrl = produto.UrlImagens != null && produto.UrlImagens.Any()
            ? produto.UrlImagens.First()
            : Url.Content("~/imgs/Produto/Bateria1.jpg");

        <a asp-controller="Produto" asp-action="@editAction" asp-route-id="@produto.IdProduto"
           class="exibicaoCard" style="text-decoration: none; color: inherit;"
           data-avaliacao="@produto.Avaliacao.ToString("F1", System.Globalization.CultureInfo.InvariantCulture)">
            <img src="@imageUrl" class="exibicaoCardimg" />
            <p class="cardNome">
                @(produto.NomeProduto?.Length > 25 ? produto.NomeProduto.Substring(0, 25) + "..." : produto.NomeProduto)
            </p>
            <div class="cardNotas">
                <div class="rating-container">
                    <span class="star"></span>
                    <span class="star"></span>
                    <span class="star"></span>
                    <span class="star"></span>
                    <span class="star"></span>
                    <p class="cardNotasNota"><span>@produto.Avaliacao</span>/5</p>
                </div>
                <div class="cardPreco">
                    <strong>R$ @produto.Preco</strong>
                </div>
            </div>
        </a>
    }
}
else
{
    <p>Nenhum produto encontrado.</p>
}
