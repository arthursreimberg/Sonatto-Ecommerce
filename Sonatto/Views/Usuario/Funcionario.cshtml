@{
    Layout = null;
    List<String> teste = ["a", "a", "a", "a", "a", "a", "a", "a", "a", "a", "a", "a", "a", "a", "a", "a", "a",];

}

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sonatto</title>
    <link rel="stylesheet" href="~/css/Index.css" />
    <link rel="stylesheet" href="~/css/Funcionario.css" />
    <link href="~/imgs/Logos/Monografia.png" rel="shortcut icon" />
</head>
<body>
    @Html.Partial("_Header")

    <div class="navDasPag">
        <a asp-controller="Home" asp-action="Index">Home ></a>
        <a asp-controller="Usuario" asp-action="Perfil" style="color:black;">Perfil ></a>
    </div>

    <div class="tituloLogOff">
        <h2>Bem vindo(a) de volta Usuario</h2>

        <div class="logOff" onclick="">
            <h4>Desconectar</h4>
            <img src="~/imgs/icones/NTrheoXd.png" />
        </div>
    </div>

    <div class="conteudo">
        <div class="painelDeControle">
            <p>Painel de controle</p>
            <div class="acoes">
                <a asp-controller="Usuario" asp-action="Perfil" class="adicionar">
                    <p>Adicionar Produto</p>
                    <img src="~/imgs/icones/Adicionar.svg" />
                    <p class="semPermissao" hidden>Requer Nível de acesso 1</p>
                    <img class="semPermissaoImg" src="~/imgs/icones/Bloqueado.svg" style="visibility: hidden; width: 0px;" />
                </a>

                <a asp-controller="Usuario" asp-action="Perfil" class="editar">
                    <p>Editar Produto</p>
                    <img src="~/imgs/icones/Editar.svg" />
                    <p class="semPermissao" hidden>Requer Nível de acesso 2</p>
                    <img class="semPermissaoImg" src="~/imgs/icones/Bloqueado.svg" style="visibility: hidden; width: 0px;" />
                </a>

                <a asp-controller="Usuario" asp-action="Perfil" class="deletar">
                    <p>Deletar Produto</p>
                    <img src="~/imgs/icones/Deletar.svg" />
                    <p class="semPermissao" hidden>Requer Nível de acesso 3</p>
                    <img class="semPermissaoImg" src="~/imgs/icones/Bloqueado.svg" style="visibility: hidden; width: 0px;"/>
                </a>
            </div>
        </div>
        <div class="historicoDeAcoes">
            <p>Seu histórico de ações</p>
            <div class="historico">
                <!--foreach-->
                @foreach (string var in teste)
                {
                    <div class="acaoCard">
                        <img src="~/imgs/icones/Engranagem.svg" />
                        <div class="dadosAcao">
                            <h1>Funcionario X</h1>
                            <div class="subDadosAcao">
                                <p>Nivel de acesso: Nivel X</p>
                                <p>Ação: Fez tal coisa</p>
                                <p>Data: dd/mm/aa</p>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>

    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {

            const permissoesUsuario = ["ADICIONAR", "EDITAR", "DELETAR"]; //aqui vai ser da inde tem que receber quais os niveis de permissão do usuario
            
            const acesso = [
                { classe: "adicionar", permissao: "ADICIONAR" },
                { classe: "editar", permissao: "EDITAR" },
                { classe: "deletar", permissao: "DELETAR" }
            ];

            acesso.forEach(NVacesso => {
                const elemento = document.querySelector(`.${NVacesso.classe}`);

                if (!permissoesUsuario.includes(NVacesso.permissao)) {

                    elemento.classList.add("bloqueado");
                    elemento.removeAttribute("hidden");
                }
            });
        });
    </script>


    @Html.Partial("_FooterSlim")
</body>
</html>
